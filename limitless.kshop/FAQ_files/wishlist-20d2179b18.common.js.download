window.Ssw||(window.Ssw={}),window.Ssw.wishlist={instances:{}},setTimeout((function(){document.dispatchEvent(new Event("SSW_WISHLIST_COMMON_LOADED",{bubbles:!0}))}),0);
void 0===window.sswLangs&&(window.sswLangs={data:{},add:function(n,t){this.data[n]=t},t:function(n,t){var i=this.data[n]||n;return i=i&&i.indexOf("translation missing:")<0?i:n,t&&(i=i.replace(/\{\{\s?(\w+)\s?\}\}/g,(function(n,i){return void 0!==t[i]?t[i]:n}))),i},p:function(n,t,i,s){return 1===i?this.t(n,s):this.t(t,s)}});
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}!function(){var e=null,n=function(){function n(){_classCallCheck(this,n),e(this)}return _createClass(n,[{key:"loadMain",value:function(){return Promise.all([Ssw.gwAssetsManifestLoader.requireByKey("wishlist.main.js","SCRIPT"),Ssw.gwAssetsManifestLoader.requireByKey("wishlist.main.css","STYLE")])}}]),n}();_defineProperty(n,"instancePromise",new Promise((function(n,i){e=n}))),Ssw.wishlist.WishlistAssetsLoader=n,Ssw.wishlist.instances.wishlistAssetsLoader=new n}();
!function(){var n=null,s=new Promise((function(s,t){n=s}));function t(s){this._$=s,n(this)}t.prototype.getInstance=function(){return this._$},t.instancePromise=s,Ssw.wishlist.WishlistJqueryLocator=t,sswRun((function(n){Ssw.wishlist.instances.wishlistJqueryLocator=new t(n)}))}();
!function(){var i=null,n=new Promise((function(n,s){i=n}));function s(n){this.options=n,i(this)}s.instancePromise=n,Ssw.wishlist.WishlistOptionsManager=s}();
function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}!function(){var t=null,i=new Promise((function(i,s){t=i}));function s(){this.lists=[sswLangs.t("favelist_default")],this.faveCount=0,this.data=JSON.parse(localStorage.getItem("ssw-wishlist")),t(this)}s.instancePromise=i,s.prototype.init=function(){return this._load(),this},s.prototype["/lite2/fave-list-delete"]=function(t,i,s){try{for(var a in this.data)this.data.hasOwnProperty(a)&&this.data[a].favelist_id==t.favelist_id&&delete this.data[a];this._save(),i({status:1,fave_count:this.faveCount})}catch(t){this._load(),s({status:0,fave_count:this.faveCount})}},s.prototype["/lite2/fave-list-create"]=function(t,i,s){var a=this;try{this.lists.push(t.title),this._save(),i({status:1,fave_count:a.faveCount,favelist_id:a.lists.length-1})}catch(t){this._load(),s({status:0,fave_count:a.faveCount})}},s.prototype["/lite2/fave-list-rename"]=function(t,i,s){try{for(var a in this.lists[t.favelist_id]=t.title,this.data)if(this.data.hasOwnProperty(a))if(Ssw.wishlist.instances.wishlistListsManager.settings.fave_with_variant)for(var e in this.data[a])this.data[a].hasOwnProperty(e)&&this.data[a][e].favelist_id==t.favelist_id&&(this.data[a][e].list_title=t.title);else this.data[a].favelist_id==t.favelist_id&&(this.data[a].list_title=t.title);this._save(),i({status:1,fave_count:this.faveCount,favelist_id:t.favelist_id})}catch(t){this._load(),s({status:0,fave_count:this.faveCount})}},s.prototype["/lite2/fave-move-to-list"]=function(t,i,s){try{for(var a=t.product_ids.length,e=t.variant_id||0,o=0;o<a;o++){var n=t.product_ids[o];Ssw.wishlist.instances.wishlistListsManager.settings.fave_with_variant?this.data[n][e]&&(this.data[n][e].favelist_id=parseInt(t.favelist_id),this.data[n][e].list_title=t.title?t.title:sswLangs.t("untitled_favelist")):this.data[n]&&(this.data[n].favelist_id=parseInt(t.favelist_id),this.data[n].list_title=t.title?t.title:sswLangs.t("untitled_favelist"))}this._save(),i({status:1,fave_count:this.faveCount})}catch(t){this._load(),s({status:0,fave_count:this.faveCount})}},s.prototype._save=function(){try{return this._updateCount(),this.data&&localStorage.setItem("ssw-wishlist",JSON.stringify(this.data)),1}catch(t){return 0}},s.prototype._load=function(){return this.data=JSON.parse(localStorage.getItem("ssw-wishlist")),this._updateCount(),this.data},s.prototype._updateCount=function(){for(var t in this.faveCount=0,this.data)this.data.hasOwnProperty(t)&&(Ssw.wishlist.instances.wishlistListsManager.settings.fave_with_variant?"object"===_typeof(this.data[t])&&(this.faveCount+=this.data[t].length):++this.faveCount,this.lists[this.data[t].favelist_id]||(this.lists[this.data[t].favelist_id]=this.data[t].list_title));return this.faveCount},s.prototype.clear=function(t){for(var i in localStorage)localStorage.hasOwnProperty(i)&&i.search(new RegExp(t,"i"))>-1&&localStorage.removeItem(i)},s.prototype.setCache=function(t,i,s,a){var e=t;i&&(e+=sswMd5(JSON.stringify(i))),a||(a=36e5),localStorage.setItem(e,JSON.stringify({time:(new Date).getTime()+a,value:s}))},s.prototype.getCache=function(t,i){var s=t;i&&(s+=sswMd5(JSON.stringify(i)));var a=null;try{var e=JSON.parse(localStorage.getItem(s));e&&e.value&&e.time>(new Date).getTime()?a=e.value:localStorage.removeItem(s)}catch(t){a=null}return a},Ssw.wishlist.WishlistCacheManager=s,Ssw.wishlist.instances.wishlistCacheManager=new s}();
function ownKeys(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(s),!0).forEach((function(t){_defineProperty(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function _defineProperty(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}!function(){var e="ssw-faves-lists",t=null,s=new Promise((function(e,s){t=e}));function r(e,s,r){this._$=e,this._cacheManager=s,this.options=r,this.settings=null,t(this)}r.instancePromise=s,r.prototype.getFromCache=function(){return this._cacheManager.getCache(e)},r.prototype.getFromApi=function(){var e,t=null===(e=JSON.parse(localStorage.getItem("gw_has_guest_wishlist_items")))||void 0===e||e,s=new URLSearchParams;return s.append("_sid",ssw.cookie("hesid")),s.append("hash_key",ssw.cookie("hash_key")),s.append("has_guest_wishlist_items",t),fetch("".concat(sswProxyUrl,"/lite2/faves-lists?").concat(s.toString())).then((function(e){return e.json()})).then((function(e){for(var t=window.Shopify.currency.rate||1,s=0;s<e.faves.length;s++){window.localStorage.removeItem("sswproduct_"+e.faves[s].product_id),window.localStorage.removeItem("ssw-faves-lists");var r=e.faves[s].variants,n="string"==typeof r?JSON.parse(r):r;e.faves[s].price=parseFloat(t*e.faves[s].price).toFixed(2),n.forEach((function(e){e.price=parseFloat(t*e.price).toFixed(2)})),e.faves[s].variants=n}return e}))},r.prototype.saveSettings=function(e){this.settings=_objectSpread(_objectSpread({},this.settings),e.settings)},r.prototype.getFavesList=function(t){var s=this;return new Promise((function(r,n){var i=s.options.is_from_email?null:s.getFromCache();i?(s.saveSettings(i),t&&t(i),r(i)):s.getFromApi().then((function(n){s.saveSettings(n),s._cacheManager.setCache(e,null,n,864e5),t&&t(n),r(i)}))}))},Ssw.wishlist.WishlistListsManager=r,Promise.all([Ssw.wishlist.WishlistCacheManager.instancePromise,Ssw.wishlist.WishlistJqueryLocator.instancePromise]).then((function(e){Ssw.wishlist.instances.wishlistListsManager=new r(e[1],e[0],{})}))}();
function _slicedToArray(s,t){return _arrayWithHoles(s)||_iterableToArrayLimit(s,t)||_unsupportedIterableToArray(s,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(s,t){if(s){if("string"==typeof s)return _arrayLikeToArray(s,t);var e=Object.prototype.toString.call(s).slice(8,-1);return"Object"===e&&s.constructor&&(e=s.constructor.name),"Map"===e||"Set"===e?Array.from(s):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(s,t):void 0}}function _arrayLikeToArray(s,t){(null==t||t>s.length)&&(t=s.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=s[e];return a}function _iterableToArrayLimit(s,t){var e=null==s?null:"undefined"!=typeof Symbol&&s[Symbol.iterator]||s["@@iterator"];if(null!=e){var a,n,i=[],o=!0,r=!1;try{for(e=e.call(s);!(o=(a=e.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(s){r=!0,n=s}finally{try{o||null==e.return||e.return()}finally{if(r)throw n}}return i}}function _arrayWithHoles(s){if(Array.isArray(s))return s}function _classCallCheck(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(s,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}function _createClass(s,t,e){return t&&_defineProperties(s.prototype,t),e&&_defineProperties(s,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function _defineProperty(s,t,e){return t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}!function(){var s=sswProxyUrl+"/lite2/feed/getFaves",t=sswProxyUrl+"/lite2/fave-count",e=null,a=new Promise((function(s,t){e=s})),n=function(){function a(s){_classCallCheck(this,a),this.wishlistCacheManager=s,e(this)}return _createClass(a,[{key:"startInterval",value:function(){var s=this;this.getFaves(),this.interval=setInterval((function(){s.getFaves()}),1500)}},{key:"findAllProductIds",value:function(){var s=[];return ssw(".ssw-faveiticon > .ssw-fave-icon.ssw-wishlist-element.ssw-not-synch:lt(25), .ssw-fave-btn.ssw-wishlist-element.ssw-not-synch:lt(25)").each((function(t,e){ssw(this).removeClass("ssw-not-synch"),s.push(ssw(this).data("product-id"))})),s}},{key:"updateFavesOnPage",value:function(s,t){for(var e,a=parseInt(t.fave_with_variant)||0,n=t.fave_multiple_variant||0,i=0;i<s.length;i++){if(e=s[i],ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).removeClass("ssw-not-synch"),void 0!==t.products_info&&void 0!==t.products_info[e]){var o={};ssw(".sswfaveicon".concat(e," .ssw-fave-icon")).length?o=ssw(".sswfaveicon".concat(e," .ssw-fave-icon")).data("params"):ssw(".sswfavebtn".concat(e)).length&&(o=ssw(".sswfavebtn".concat(e)).data("params")),o=ssw.extend({},o,t.products_info[e]),ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).data("params",o),ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).attr("data-params",JSON.stringify(o))}var r=!1;if(a){if(void 0!==t.products_info&&void 0!==t.products_info[e]){var c=void 0!==t.products_info[e].first_variant_id?t.products_info[e].first_variant_id:0,v=void 0!==t.viewer_faves[e]?t.viewer_faves[e]:{};(r=void 0!==v[c])||(r=void 0!==v[0]),r||n||void 0===t.viewer_faves[e]||(r=!0),ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).attr("data-variant-id",c)}}else r=void 0!==t.viewer_faves[e];if(void 0!==t.product_faves[e]&&0!==t.product_faves[e]){a&&c&&(v[c]=1);var l=ssw(".sswfaveicon".concat(e)),f=ssw(".sswfavebtn".concat(e));if(r)l.find(a?'.ssw-fave-icon[data-variant-id="'.concat(c,'"]'):".ssw-fave-icon").removeClass("ssw-icon-heart-o").addClass("ssw-icon-heart").attr("title",sswLangs.t("unfave")),ssw(".sswfavebtn".concat(e,'[data-variant-id="').concat(c,'"]')).addClass("ssw-active").html('<div class="ssw-fave-btn-content"><i class="ssw-icon-heart"></i>'+sswLangs.t("faved")+'</div><div class="ssw-fave-btn-counter">'+ssw(".sswfavebtn"+e+'[data-variant-id="'+c+'"]').attr("data-count")+"</div>");else{var w=f.attr("data-count");f.html('<div class="ssw-fave-btn-content"><i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave")+'</div><div class="ssw-fave-btn-counter">'+w+"</div>")}ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).attr("data-count",t.product_faves[e]),t.product_faves[e]&&(l.find(".faves-count").html(t.product_faves[e]),f.find(".ssw-fave-btn-counter").html(t.product_faves[e])),ssw(".ssw-faveappbtn.ssw-wishlist-element").removeClass("ssw-faveappbtn-hidden-count")}else ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).attr("data-count",0),ssw(".sswfaveicon".concat(e," .faves-count")).html("");a&&ssw(".sswfaveicon".concat(e," .faves-count, .sswfavebtn").concat(e)).attr("data-user-faves",JSON.stringify(v)),ssw(".sswfaveicon".concat(e," .ssw-fave-icon, .sswfavebtn").concat(e)).addClass("ssw-synchronized")}window._sswFaveNotSync=!0}},{key:"getFaves",value:function(){var t,e=this,a=null===(t=JSON.parse(localStorage.getItem("gw_has_guest_wishlist_items")))||void 0===t||t,n=this.findAllProductIds(),i={ids:n.join("I"),_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),has_guest_wishlist_items:a},o=this.wishlistCacheManager.getCache(s,i);o?this.updateFavesOnPage(n,o):ssw.post(s,i,(function(t){e.wishlistCacheManager.setCache(s,i,t,36e7),e.updateFavesOnPage(n,t)}),"json")}},{key:"getTotalCount",value:function(){var s;if(!(null===(s=JSON.parse(localStorage.getItem("gw_has_guest_wishlist_items")))||void 0===s||s))return new Promise((function(s){s({count:0,login_enabled:1,list:{count:0,list_id:0}})}));var e={_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key")};return new Promise((function(s,a){ssw.post(t,e,"json").done((function(t){s(t)})).fail((function(s){a(s.responseText)}))}))}}]),a}();_defineProperty(n,"instancePromise",a),Ssw.wishlist.WishlistFavesCountManager=n,Promise.all([Ssw.wishlist.WishlistCacheManager.instancePromise,Ssw.wishlist.WishlistJqueryLocator.instancePromise]).then((function(s){var t=_slicedToArray(s,1)[0];Ssw.wishlist.instances.wishlistFavesCountManager=new n(t),Ssw.wishlist.instances.wishlistFavesCountManager.startInterval()}))}();